<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PrimeStore | Modern E-commerce</title>
  <meta name="description"
    content="Premium shopping experience with PrimeStore. High quality products and seamless shopping.">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Supabase CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <div id="loader" class="loader-container">
    <div class="loader"></div>
  </div>

  <!-- Announcement Bar -->
  <div class="announcement-bar" id="announcement-bar">
    <div class="container announcement-content">
      <div class="announcement-text" id="announcement-text">
        <i class="fas fa-truck"></i>
        <span>Free shipping on orders over $50!</span>
      </div>
      <button class="announcement-close" id="announcement-close" aria-label="Close">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="container nav-content">
      <a href="/" class="logo" data-link>
        PRIME<span>STORE</span>
      </a>

      <!-- Search Bar -->
      <div class="nav-search" id="nav-search">
        <button class="search-toggle" id="search-toggle" aria-label="Search">
          <i class="fas fa-search"></i>
        </button>
        <div class="search-box" id="search-box">
          <input type="text" id="search-input" placeholder="Search products..." autocomplete="off">
          <button class="search-submit" id="search-submit">
            <i class="fas fa-search"></i>
          </button>
          <div class="search-results" id="search-results"></div>
        </div>
      </div>

      <div class="nav-links">
        <a href="/" class="nav-link active" data-link>Home</a>
        <a href="/shop" class="nav-link" data-link>Shop</a>
        <a href="features.html" class="nav-link">Features</a>
        <a href="blog.html" class="nav-link">Blog</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="contact.html" class="nav-link">Contact</a>
      </div>

      <div class="nav-actions">
        <a href="/wishlist" class="wishlist-btn nav-icon" data-link>
          <i class="far fa-heart"></i>
          <span class="wishlist-count">0</span>
        </a>
        <a href="/cart" class="cart-btn nav-icon" data-link>
          <i class="fas fa-shopping-bag"></i>
          <span class="cart-count">0</span>
        </a>
        <a href="/signin" class="btn btn-primary sign-in-btn" data-link>Sign In</a>

        <!-- Mobile Menu Button -->
        <button class="mobile-menu-btn" id="mobile-menu-btn">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div class="menu-overlay" id="menu-overlay"></div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-header">
      <a href="/" class="logo" data-link>PRIME<span>STORE</span></a>
      <button class="mobile-menu-close" id="mobile-menu-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="mobile-menu-links">
      <a href="/" data-link>Home</a>
      <a href="/shop" data-link>Shop</a>
      <a href="features.html">Features</a>
      <a href="blog.html">Blog</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
    <div class="mobile-menu-actions">
      <a href="/wishlist" class="mobile-action-btn" data-link>
        <i class="far fa-heart"></i> Wishlist
      </a>
      <a href="/cart" class="mobile-action-btn" data-link>
        <i class="fas fa-shopping-bag"></i> Cart
      </a>
      <a href="/signin" class="btn btn-primary btn-block" data-link>Sign In</a>
    </div>
  </div>

  <!-- Main Content -->
  <main id="app">
    <!-- SPA Content will be injected here -->
  </main>

  <!-- Toast Notifications -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Footer -->
  <footer class="footer premium-footer">
    <div class="container footer-grid">
      <div class="footer-about">
        <a href="/" class="logo" data-link>PRIME<span>STORE</span></a>
        <p>Providing the best quality fashion essentials since 2024. Our mission is to make premium style accessible to
          everyone.</p>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-pinterest"></i></a>
        </div>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="/" data-link>Home</a></li>
          <li><a href="/about" data-link>About Us</a></li>
          <li><a href="/contact" data-link>Contact</a></li>
          <li><a href="/features" data-link>Features</a></li>
        </ul>
      </div>
      <div class="footer-links">
        <h4>Categories</h4>
        <ul>
          <li><a href="/shop" data-link>Women's Fashion</a></li>
          <li><a href="/shop" data-link>Men's Fashion</a></li>
          <li><a href="/shop" data-link>Watches</a></li>
          <li><a href="/shop" data-link>Shoes</a></li>
        </ul>
      </div>
      <div class="footer-newsletter">
        <h4>Newsletter</h4>
        <p>Subscribe to get special offers and updates.</p>
        <form class="newsletter-form" id="footer-newsletter-form">
          <input type="email" placeholder="Email Address" required>
          <button type="submit"><i class="fas fa-paper-plane"></i></button>
        </form>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="container">
        <p>&copy; 2024 PrimeStore. All rights reserved.</p>
        <div class="payment-icons">
          <i class="fab fa-cc-visa"></i>
          <i class="fab fa-cc-mastercard"></i>
          <i class="fab fa-cc-paypal"></i>
          <i class="fab fa-cc-apple-pay"></i>
        </div>
      </div>
    </div>
  </footer>

  <!-- Live Chat Button -->
  <button class="live-chat-btn" id="live-chat-btn" aria-label="Live Chat">
    <i class="fas fa-comments"></i>
  </button>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="back-to-top" aria-label="Back to Top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Scripts -->
  <script type="module" src="js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Footer newsletter form handler
      const form = document.getElementById('footer-newsletter-form');
      if (form) {
        form.addEventListener('submit', (e) => {
          e.preventDefault();
          form.querySelector('input').value = '';
          if (window.showToast) {
            window.showToast('Thank you for subscribing!');
          }
        });
      }

      // Announcement bar close
      const announcementClose = document.getElementById('announcement-close');
      const announcementBar = document.getElementById('announcement-bar');
      if (announcementClose && announcementBar) {
        announcementClose.addEventListener('click', () => {
          announcementBar.classList.add('hidden');
        });

        // Rotate announcement messages
        const messages = [
          { icon: 'fa-truck', text: 'Free shipping on orders over $50!' },
          { icon: 'fa-tag', text: 'Use code SAVE10 for 10% off!' },
          { icon: 'fa-gift', text: 'New arrivals just dropped!' }
        ];
        let msgIndex = 0;
        setInterval(() => {
          msgIndex = (msgIndex + 1) % messages.length;
          const textEl = document.getElementById('announcement-text');
          if (textEl) {
            textEl.innerHTML = `<i class="fas ${messages[msgIndex].icon}"></i><span>${messages[msgIndex].text}</span>`;
          }
        }, 5000);
      }

      // Search toggle
      const searchToggle = document.getElementById('search-toggle');
      const searchBox = document.getElementById('search-box');
      if (searchToggle && searchBox) {
        searchToggle.addEventListener('click', () => {
          searchBox.classList.toggle('active');
          if (searchBox.classList.contains('active')) {
            searchBox.querySelector('input').focus();
          }
        });
        // Close search on click outside
        document.addEventListener('click', (e) => {
          if (!e.target.closest('.nav-search')) {
            searchBox.classList.remove('active');
          }
        });
      }

      // Back to top button
      const backToTop = document.getElementById('back-to-top');
      if (backToTop) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 300) {
            backToTop.classList.add('visible');
          } else {
            backToTop.classList.remove('visible');
          }
        });
        backToTop.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }

      // Live activity feed
      const liveActivity = document.getElementById('live-activity');
      if (liveActivity) {
        const activities = [
          { name: 'Sarah', product: 'Premium Watch', img: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=100' },
          { name: 'Michael', product: 'Classic Bag', img: 'https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=100' },
          { name: 'Emma', product: 'Summer Dress', img: 'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=100' },
          { name: 'David', product: 'Sneakers', img: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=100' }
        ];
        let actIndex = 0;
        const showActivity = () => {
          const act = activities[actIndex];
          liveActivity.querySelector('.live-activity-img').src = act.img;
          liveActivity.querySelector('.live-activity-info p').innerHTML =
            `<strong>${act.name}</strong> just purchased <strong>${act.product}</strong>`;
          liveActivity.classList.add('show');
          setTimeout(() => {
            liveActivity.classList.remove('show');
          }, 4000);
          actIndex = (actIndex + 1) % activities.length;
        };
        // Show first after 3s, then every 8s
        setTimeout(showActivity, 3000);
        setInterval(showActivity, 8000);
      }

      // Live chat button
      const liveChatBtn = document.getElementById('live-chat-btn');
      if (liveChatBtn) {
        liveChatBtn.addEventListener('click', () => {
          if (window.showToast) {
            window.showToast('Chat feature coming soon!');
          }
        });
      }
    });
  </script>
</body>

</html>